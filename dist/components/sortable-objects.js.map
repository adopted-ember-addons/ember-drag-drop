{"version":3,"file":"sortable-objects.js","sources":["../../src/components/sortable-objects.hbs","../../src/components/sortable-objects.js"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"{{! template-lint-disable no-yield-only }}\\n{{yield}}\")","/* eslint-disable ember/no-classic-classes, ember/no-classic-components, ember/no-component-lifecycle-hooks, ember/no-get, ember/require-super-in-lifecycle-hooks, ember/require-tagless-components, prettier/prettier */\nimport Component from '@ember/component';\nimport { inject as service } from '@ember/service';\nimport { A } from '@ember/array';\n\nexport default Component.extend( {\n  dragCoordinator: service('drag-coordinator'),\n  overrideClass: 'sortable-objects',\n  classNameBindings: ['overrideClass'],\n  enableSort: true,\n  useSwap: true,\n  inPlace: false,\n  sortingScope: 'drag-objects',\n  sortableObjectList: A(),\n\n  init() {\n    this._super(...arguments);\n    if (this.get('enableSort')) {\n      this.get('dragCoordinator').pushSortComponent(this);\n    }\n  },\n\n  willDestroyElement() {\n    if (this.get('enableSort')) {\n      this.get('dragCoordinator').removeSortComponent(this);\n    }\n  },\n\n  dragStart(event) {\n    event.stopPropagation();\n    if (!this.get('enableSort')) {\n      return false;\n    }\n    this.set('dragCoordinator.sortComponentController', this);\n  },\n\n  dragEnter(event) {\n    //needed so drop event will fire\n    event.stopPropagation();\n    return false;\n  },\n\n  dragOver(event) {\n    //needed so drop event will fire\n    event.stopPropagation();\n    return false;\n  },\n\n  drop(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.set('dragCoordinator.sortComponentController', undefined);\n    if (this.get('enableSort') && this.get('sortEndAction')) {\n      this.get('sortEndAction')(event);\n    }\n  }\n});\n"],"names":["setComponentTemplate","TEMPLATE","Component","extend","dragCoordinator","service","overrideClass","classNameBindings","enableSort","useSwap","inPlace","sortingScope","sortableObjectList","A","init","_super","arguments","get","pushSortComponent","willDestroyElement","removeSortComponent","dragStart","event","stopPropagation","set","dragEnter","dragOver","drop","preventDefault","undefined"],"mappings":";;;;;AACA,eAAe,kBAAkB,CAAC,uDAAuD;;ACDzF;AAKA,sBAAAA,oBAAA,CAAAC,QAAA,EAAeC,SAAS,CAACC,MAAM,CAAE;AAC/BC,EAAAA,eAAe,EAAEC,MAAO,CAAC,kBAAkB,CAAC;AAC5CC,EAAAA,aAAa,EAAE,kBAAkB;EACjCC,iBAAiB,EAAE,CAAC,eAAe,CAAC;AACpCC,EAAAA,UAAU,EAAE,IAAI;AAChBC,EAAAA,OAAO,EAAE,IAAI;AACbC,EAAAA,OAAO,EAAE,KAAK;AACdC,EAAAA,YAAY,EAAE,cAAc;EAC5BC,kBAAkB,EAAEC,CAAC,EAAE;AAEvBC,EAAAA,IAAIA,GAAG;AACL,IAAA,IAAI,CAACC,MAAM,CAAC,GAAGC,SAAS,CAAC,CAAA;AACzB,IAAA,IAAI,IAAI,CAACC,GAAG,CAAC,YAAY,CAAC,EAAE;MAC1B,IAAI,CAACA,GAAG,CAAC,iBAAiB,CAAC,CAACC,iBAAiB,CAAC,IAAI,CAAC,CAAA;AACrD,KAAA;GACD;AAEDC,EAAAA,kBAAkBA,GAAG;AACnB,IAAA,IAAI,IAAI,CAACF,GAAG,CAAC,YAAY,CAAC,EAAE;MAC1B,IAAI,CAACA,GAAG,CAAC,iBAAiB,CAAC,CAACG,mBAAmB,CAAC,IAAI,CAAC,CAAA;AACvD,KAAA;GACD;EAEDC,SAASA,CAACC,KAAK,EAAE;IACfA,KAAK,CAACC,eAAe,EAAE,CAAA;AACvB,IAAA,IAAI,CAAC,IAAI,CAACN,GAAG,CAAC,YAAY,CAAC,EAAE;AAC3B,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AACA,IAAA,IAAI,CAACO,GAAG,CAAC,yCAAyC,EAAE,IAAI,CAAC,CAAA;GAC1D;EAEDC,SAASA,CAACH,KAAK,EAAE;AACf;IACAA,KAAK,CAACC,eAAe,EAAE,CAAA;AACvB,IAAA,OAAO,KAAK,CAAA;GACb;EAEDG,QAAQA,CAACJ,KAAK,EAAE;AACd;IACAA,KAAK,CAACC,eAAe,EAAE,CAAA;AACvB,IAAA,OAAO,KAAK,CAAA;GACb;EAEDI,IAAIA,CAACL,KAAK,EAAE;IACVA,KAAK,CAACC,eAAe,EAAE,CAAA;IACvBD,KAAK,CAACM,cAAc,EAAE,CAAA;AACtB,IAAA,IAAI,CAACJ,GAAG,CAAC,yCAAyC,EAAEK,SAAS,CAAC,CAAA;AAC9D,IAAA,IAAI,IAAI,CAACZ,GAAG,CAAC,YAAY,CAAC,IAAI,IAAI,CAACA,GAAG,CAAC,eAAe,CAAC,EAAE;AACvD,MAAA,IAAI,CAACA,GAAG,CAAC,eAAe,CAAC,CAACK,KAAK,CAAC,CAAA;AAClC,KAAA;AACF,GAAA;AACF,CAAC,CAAC,CAAA;;;;"}